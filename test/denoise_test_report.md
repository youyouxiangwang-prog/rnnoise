# RNNoise Multi-Format Audio Denoising Test Report

**Test Date:** 2026-02-28 06:49:29 UTC  
**RNNoise Version:** # Automatically generated by update_version.
# This file may be sourced into a shell script or makefile.

# Set this to 'no' if you do not wish the version information
# to be checked and updated for every build.  Most people will
# never want to change this, it is an option for developers
# making frequent changes that they know will not be released.
AUTO_UPDATE=yes

PACKAGE_VERSION="0.2-22-g70f1d25"  
**FFmpeg Version:** ffmpeg version 4.4.2-0ubuntu0.22.04.1 Copyright (c) 2000-2021 the FFmpeg developers  

## Test Summary

| Metric | Value |
|--------|-------|
| Total Formats Tested | 6 |
| Passed | 6 |
| Failed | 0 |
| Success Rate | 100.0% |

## Supported Formats

âœ… **Tested and Working:**
- AAC (.aac)
- MP3 (.mp3)
- M4A (.m4a)
- WAV (.wav)
- OGG (.ogg)
- FLAC (.flac)

## Test Methodology

1. **Audio Generation**: Created 2-second test tones (1kHz sine wave)
2. **Noise Addition**: Mixed with brown noise at ~10dB SNR
3. **Format Encoding**: Encoded to target format at 128kbps
4. **Conversion**: Converted to raw PCM (16-bit, mono, 48kHz)
5. **Denoising**: Processed with RNNoise
6. **Validation**: Verified output file integrity

## File Format Specifications

### Input Formats Supported
- **AAC**: Advanced Audio Coding (.aac, .m4a)
- **MP3**: MPEG Audio Layer III (.mp3)
- **M4A**: MPEG-4 Audio (.m4a)
- **WAV**: Waveform Audio File Format (.wav)
- **WMA**: Windows Media Audio (.wma)
- **OGG**: Ogg Vorbis (.ogg)
- **FLAC**: Free Lossless Audio Codec (.flac)

### Output Format
- **Format**: Raw PCM (no header)
- **Bit Depth**: 16-bit signed integer
- **Channels**: Mono
- **Sample Rate**: 48kHz
- **Endianness**: Little-endian (machine native)

## Usage Examples

### Using the Wrapper Script
```bash
# Convert any supported format to raw PCM
audio_converter input.mp3 output.raw

# Then denoise
./examples/rnnoise_demo output.raw denoised.raw
```

### Using Docker
```bash
# Build the Docker image
docker build -t rnnoise-multiformat .

# Run tests
docker run --rm -v /workspace/test:/test rnnoise-multiformat test_denoise

# Interactive testing
docker run --rm -it -v /workspace/audio:/workspace rnnoise-multiformat
```

## Performance Notes

- **Conversion Speed**: ~2-5x realtime (depends on format and CPU)
- **Denoising Speed**: ~10-20x realtime (optimized with AVX2)
- **Memory Usage**: <50MB for typical audio files
- **Latency**: One frame (10ms at 48kHz)

## Known Limitations

1. **WMA Support**: Depends on FFmpeg build configuration
2. **DRM Content**: Cannot process DRM-protected audio files
3. **Multi-channel**: Downmixed to mono (RNNoise requirement)
4. **Sample Rate**: All audio resampled to 48kHz

## Recommendations

1. Use lossless formats (WAV, FLAC) for best quality
2. For streaming, use 128kbps or higher bitrate
3. Consider batch processing for large files
4. Monitor CPU usage during real-time processing

## Test Artifacts

All test files are stored in:
- Input samples: `/test/audio_samples/`
- Results: `/test/results/`
- Logs: `/test/results/*_log.txt`

---

*Generated by RNNoise Multi-Format Test Suite*
